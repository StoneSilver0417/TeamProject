<!-- header -->
<header>
	<script>
		function profileOnclick() {
			document.getElementById('profileDropdown').classList.toggle('show');
			window.onclick = function(event) {
				if (!event.target.matches('#profileDropdown')) {
					if (openDropdown.classList.contains('show')) {
						document.getElementById('profileDropdown').classList
								.remove('show');
					}
				}
				;
				var dropdowns = document
						.getElementsByClassName('profile-dropdown');
				var i;
				for (i = 0; i < dropdowns.length; i++) {
					var openDropdown = dropdowns[i];
					if (openDropdown.classList.contains('show')) {
					}
				}
			}
		}
	</script>
	<div id="header__top">
		<a href="/">
			<h1 id="header__logo">clever</h1>
		</a>
		<div id="header__actions">
			<!-- 검색 기능 -->
			<form action="/search" id="header__actions-search">
				<input type="text" placeholder="검색어를 입력해주세요." />
				<button type="submit">
					<img src="/imgs/header/search.png" alt="search" />
				</button>
			</form>
			<!-- 유저 상태에 따름 -->
			<div id="header__actions-user">
				<!-- 로그인 안된 경우 버튼 -->
				<a href="/login" th:if="${session?.user == null}"
					id="loginAndRegister">로그인/회원가입</a>

				<!-- 로그인 한 경우 버튼 -->
				<div th:if="${session?.user != null}"
					th:with="info = ${session.user}" id="user-profile">
					<!-- 레벨 -->
					<div id="profile__badge">
						<a href="/mypage"> <img th:if="${info.userExp} >= 300"
							src="/imgs/badge/master.svg" /><img
							th:if="${info.userExp} >= 100" src="/imgs/badge/level2.svg" /><img
							th:if="${info.userExp} >= 50" src="/imgs/badge/level1.svg" /><img
							th:if="${info.userExp} >= 0" src="/imgs/badge/new.svg" /></a>
					</div>
					<!-- 프로필 -->
					<div id="profile">
						<div th:with="info = ${session.user}" onclick="profileOnclick()"
							class="profileBtn" id="profile__info">
							<img id="profile__img"
								th:src="${'/imgs/profile/user/' + session.user.userId + '.png'}" />
							<p th:text="${info.userNickname}" id="profile__name"></p>
						</div>
						<div id="profileDropdown" class="profile-dropdown">
							<ul>
								<li><a href="/mypage">프로필</a></li>
								<li><a href="/mypage/setting">설정</a></li>
								<li><div class="divider"></div></li>
								<li><a href="/logout">로그아웃</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- navbar -->
	<nav id="header__nav">
		<ul>
			<li class="category" tab-index="0"><a href="/list">전체</a></li>
			<li class="category" tab-index="0">
				<p>국가기술자격시험</p>
				<ul class="sub-category">
					<li><a href="/list">가나아러 지</a></li>
					<li><a href="/list">국가기술자격시험</a></li>
					<li><a href="/list">Su국가기술자 격시험</a></li>
					<li><a href="/list">Su국가기술자격시 험m 4</a></li>
					<li><a href="/list">Sub I국가기술자격시 험tem 5</a></li>
					<li><a href="/list">국가기술자격시험 ㄴㄴb Item 6</a></li>
				</ul>
			</li>
			<li class="category" tab-index="0">
				<p>기타 IT·전산 시험</p>
				<ul class="sub-category">
					<li><a href="/list">기타 IT·전산 시험</a></li>
					<li><a href="/list">기타 IT·전산 시험</a></li>
					<li><a href="/list">기타 IT·전산 시험</a></li>
					<li><a href="/list">Sub It IT·전산 IT·전산 em 6</a></li>
				</ul>
			</li>
			<li class="category" tab-index="0">
				<p>공무원 전산직</p>
				<ul class="sub-category">
					<li><a href="/list">Sub Item 1</a></li>
					<li><a href="/list">공무공무원 전산직원 전산직</a></li>
					<li><a href="/list">Su공무원 전산직 5</a></li>
					<li><a href="/list">Su공무원 전산직b Item 6</a></li>
				</ul>
			</li>
			<li class="category" tab-index="0">
				<p>유저 등록 시험</p>
				<ul class="sub-category">
					<li><a href="/list">Sub Item 1</a></li>
					<li><a href="/list">공무공무원 전산직원 전산직</a></li>
					<li><a href="/list">Su공무원 전산직 5</a></li>
					<li><a href="/list">Su공무원 전산직b Item 6</a></li>
				</ul>
			</li>
			<li class="category" tab-index="0">
				<p>파ㅣㅏ렂</p>
				<ul class="sub-category">
					<li><a href="/list">Sub Item 1</a></li>
					<li><a href="/list">Sub Item 2</a></li>
					<li><a href="/list">Sub Item 5</a></li>
					<li><a href="/list">Sub Item 6</a></li>
				</ul>
			</li>
			<li class="category" tab-index="0">
				<p>기타 시험</p>
				<ul class="sub-category">
					<li><a href="/list">Sub Item 1</a></li>
					<li><a href="/list">Sub Item 2</a></li>
					<li><a href="/list">Sub Item 5</a></li>
					<li><a href="/list">Sub Item 6</a></li>
				</ul>
			</li>
		</ul>
	</nav>
</header>


